(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (global.statechart_graph = factory());
}(this, (function () { 'use strict';

var __cov_uWuM$Q__5WeJbIFZ4ZMFgQ = (Function('return this'))();
if (!__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.__coverage__) { __cov_uWuM$Q__5WeJbIFZ4ZMFgQ.__coverage__ = {}; }
__cov_uWuM$Q__5WeJbIFZ4ZMFgQ = __cov_uWuM$Q__5WeJbIFZ4ZMFgQ.__coverage__;
if (!(__cov_uWuM$Q__5WeJbIFZ4ZMFgQ['/Users/congwen.ma/dev/statechart-graph/lib/serialize.js'])) {
   __cov_uWuM$Q__5WeJbIFZ4ZMFgQ['/Users/congwen.ma/dev/statechart-graph/lib/serialize.js'] = {"path":"/Users/congwen.ma/dev/statechart-graph/lib/serialize.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"convertState","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":73},"end":{"line":14,"column":93}}},"3":{"name":"convertEvent","line":30,"loc":{"start":{"line":30,"column":0},"end":{"line":30,"column":30}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":28,"column":1}},"2":{"start":{"line":4,"column":2},"end":{"line":4,"column":85}},"3":{"start":{"line":5,"column":2},"end":{"line":5,"column":24}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":34}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":36}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":28}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":30}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":28}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":26}},"10":{"start":{"line":14,"column":2},"end":{"line":16,"column":12}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":45}},"12":{"start":{"line":18,"column":2},"end":{"line":27,"column":4}},"13":{"start":{"line":30,"column":0},"end":{"line":36,"column":1}},"14":{"start":{"line":31,"column":2},"end":{"line":31,"column":19}},"15":{"start":{"line":32,"column":2},"end":{"line":34,"column":3}},"16":{"start":{"line":33,"column":4},"end":{"line":33,"column":58}},"17":{"start":{"line":35,"column":2},"end":{"line":35,"column":17}}},"branchMap":{"1":{"line":4,"type":"cond-expr","locations":[{"start":{"line":4,"column":68},"end":{"line":4,"column":69}},{"start":{"line":4,"column":72},"end":{"line":4,"column":84}}]},"2":{"line":4,"type":"binary-expr","locations":[{"start":{"line":4,"column":14},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":65}}]},"3":{"line":14,"type":"cond-expr","locations":[{"start":{"line":14,"column":59},"end":{"line":16,"column":4}},{"start":{"line":16,"column":7},"end":{"line":16,"column":11}}]},"4":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":27},"end":{"line":14,"column":36}},{"start":{"line":14,"column":40},"end":{"line":14,"column":56}}]},"5":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":10},"end":{"line":19,"column":14}},{"start":{"line":19,"column":18},"end":{"line":19,"column":30}}]}}};
}
__cov_uWuM$Q__5WeJbIFZ4ZMFgQ = __cov_uWuM$Q__5WeJbIFZ4ZMFgQ['/Users/congwen.ma/dev/statechart-graph/lib/serialize.js'];
function convertState(state){__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.f['1']++;__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['2']++;var level=(__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.b['2'][0]++,arguments.length<=1)||(__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.b['2'][1]++,arguments[1]===undefined)?(__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.b['1'][0]++,0):(__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.b['1'][1]++,arguments[1]);__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['3']++;var name=state.name;__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['4']++;var substates=state.substates;__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['5']++;var concurrent=state.concurrent;__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['6']++;var events=state.events;__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['7']++;var history=state.history;__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['8']++;var enters=state.enters;__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['9']++;var exits=state.exits;__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['10']++;var convertedSubstates=(__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.b['4'][0]++,substates)&&(__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.b['4'][1]++,substates.length)?(__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.b['3'][0]++,substates.map(function(substate){__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.f['2']++;__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['11']++;return convertState(substate,level+1);})):(__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.b['3'][1]++,null);__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['12']++;return{name:(__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.b['5'][0]++,name)||(__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.b['5'][1]++,'<nameless>'),level:level,isActive:state.current().length>0,hasEnterHandler:!!enters.length,hasExitHandler:!!exits.length,concurrent:concurrent,events:convertEvent(events),children:convertedSubstates};}function convertEvent(events){__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.f['3']++;__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['14']++;var results=[];__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['15']++;for(var k in events){__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['16']++;results.push({name:k,func:events[k].toString()});}__cov_uWuM$Q__5WeJbIFZ4ZMFgQ.s['17']++;return results;}

var __cov_hphJaU8URKIJBoF$_GCtag = (Function('return this'))();
if (!__cov_hphJaU8URKIJBoF$_GCtag.__coverage__) { __cov_hphJaU8URKIJBoF$_GCtag.__coverage__ = {}; }
__cov_hphJaU8URKIJBoF$_GCtag = __cov_hphJaU8URKIJBoF$_GCtag.__coverage__;
if (!(__cov_hphJaU8URKIJBoF$_GCtag['/Users/congwen.ma/dev/statechart-graph/lib/StateNode/node_definitions.js'])) {
   __cov_hphJaU8URKIJBoF$_GCtag['/Users/congwen.ma/dev/statechart-graph/lib/StateNode/node_definitions.js'] = {"path":"/Users/congwen.ma/dev/statechart-graph/lib/StateNode/node_definitions.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},"fnMap":{"1":{"name":"defineEntranceTransition","line":1,"loc":{"start":{"line":1,"column":38},"end":{"line":1,"column":104}}},"2":{"name":"(anonymous_2)","line":3,"loc":{"start":{"line":3,"column":52},"end":{"line":3,"column":64}}},"3":{"name":"(anonymous_3)","line":7,"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":28}}},"4":{"name":"(anonymous_4)","line":13,"loc":{"start":{"line":13,"column":21},"end":{"line":13,"column":34}}},"5":{"name":"(anonymous_5)","line":20,"loc":{"start":{"line":20,"column":18},"end":{"line":20,"column":31}}},"6":{"name":"(anonymous_6)","line":25,"loc":{"start":{"line":25,"column":59},"end":{"line":25,"column":72}}},"7":{"name":"(anonymous_7)","line":30,"loc":{"start":{"line":30,"column":114},"end":{"line":30,"column":127}}},"8":{"name":"(anonymous_8)","line":32,"loc":{"start":{"line":32,"column":10},"end":{"line":32,"column":23}}},"9":{"name":"(anonymous_9)","line":37,"loc":{"start":{"line":37,"column":12},"end":{"line":37,"column":33}}},"10":{"name":"(anonymous_10)","line":42,"loc":{"start":{"line":42,"column":45},"end":{"line":42,"column":66}}},"11":{"name":"(anonymous_11)","line":44,"loc":{"start":{"line":44,"column":15},"end":{"line":44,"column":28}}},"12":{"name":"(anonymous_12)","line":46,"loc":{"start":{"line":46,"column":19},"end":{"line":46,"column":40}}},"13":{"name":"(anonymous_13)","line":48,"loc":{"start":{"line":48,"column":20},"end":{"line":48,"column":33}}},"14":{"name":"(anonymous_14)","line":50,"loc":{"start":{"line":50,"column":19},"end":{"line":50,"column":35}}},"15":{"name":"(anonymous_15)","line":55,"loc":{"start":{"line":55,"column":44},"end":{"line":55,"column":57}}},"16":{"name":"(anonymous_16)","line":57,"loc":{"start":{"line":57,"column":19},"end":{"line":57,"column":32}}},"17":{"name":"(anonymous_17)","line":61,"loc":{"start":{"line":61,"column":44},"end":{"line":61,"column":57}}},"18":{"name":"(anonymous_18)","line":63,"loc":{"start":{"line":63,"column":19},"end":{"line":63,"column":32}}},"19":{"name":"(anonymous_19)","line":70,"loc":{"start":{"line":70,"column":8},"end":{"line":70,"column":21}}},"20":{"name":"(anonymous_20)","line":72,"loc":{"start":{"line":72,"column":136},"end":{"line":72,"column":152}}},"21":{"name":"(anonymous_21)","line":74,"loc":{"start":{"line":74,"column":91},"end":{"line":74,"column":104}}},"22":{"name":"(anonymous_22)","line":76,"loc":{"start":{"line":76,"column":17},"end":{"line":76,"column":29}}},"23":{"name":"(anonymous_23)","line":78,"loc":{"start":{"line":78,"column":30},"end":{"line":78,"column":43}}},"24":{"name":"defineUpdateTransition","line":83,"loc":{"start":{"line":83,"column":36},"end":{"line":83,"column":90}}},"25":{"name":"(anonymous_25)","line":85,"loc":{"start":{"line":85,"column":63},"end":{"line":85,"column":76}}},"26":{"name":"(anonymous_26)","line":90,"loc":{"start":{"line":90,"column":59},"end":{"line":90,"column":72}}},"27":{"name":"defineExitTransition","line":98,"loc":{"start":{"line":98,"column":34},"end":{"line":98,"column":90}}},"28":{"name":"(anonymous_28)","line":100,"loc":{"start":{"line":100,"column":48},"end":{"line":100,"column":60}}}},"statementMap":{"1":{"start":{"line":1,"column":7},"end":{"line":81,"column":2}},"2":{"start":{"line":3,"column":2},"end":{"line":22,"column":5}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":66}},"4":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"5":{"start":{"line":9,"column":4},"end":{"line":9,"column":23}},"6":{"start":{"line":10,"column":4},"end":{"line":10,"column":15}},"7":{"start":{"line":14,"column":4},"end":{"line":14,"column":39}},"8":{"start":{"line":15,"column":4},"end":{"line":15,"column":37}},"9":{"start":{"line":16,"column":4},"end":{"line":16,"column":30}},"10":{"start":{"line":21,"column":4},"end":{"line":21,"column":39}},"11":{"start":{"line":25,"column":2},"end":{"line":27,"column":5}},"12":{"start":{"line":26,"column":4},"end":{"line":26,"column":59}},"13":{"start":{"line":30,"column":2},"end":{"line":34,"column":97}},"14":{"start":{"line":31,"column":4},"end":{"line":31,"column":42}},"15":{"start":{"line":33,"column":4},"end":{"line":33,"column":18}},"16":{"start":{"line":37,"column":2},"end":{"line":39,"column":5}},"17":{"start":{"line":38,"column":4},"end":{"line":38,"column":36}},"18":{"start":{"line":40,"column":2},"end":{"line":40,"column":18}},"19":{"start":{"line":41,"column":2},"end":{"line":41,"column":17}},"20":{"start":{"line":42,"column":2},"end":{"line":53,"column":87}},"21":{"start":{"line":43,"column":4},"end":{"line":43,"column":58}},"22":{"start":{"line":45,"column":4},"end":{"line":45,"column":30}},"23":{"start":{"line":47,"column":4},"end":{"line":47,"column":72}},"24":{"start":{"line":49,"column":4},"end":{"line":49,"column":39}},"25":{"start":{"line":51,"column":4},"end":{"line":51,"column":33}},"26":{"start":{"line":52,"column":4},"end":{"line":52,"column":39}},"27":{"start":{"line":55,"column":2},"end":{"line":59,"column":67}},"28":{"start":{"line":56,"column":4},"end":{"line":56,"column":60}},"29":{"start":{"line":58,"column":4},"end":{"line":58,"column":51}},"30":{"start":{"line":61,"column":2},"end":{"line":65,"column":68}},"31":{"start":{"line":62,"column":4},"end":{"line":62,"column":60}},"32":{"start":{"line":64,"column":4},"end":{"line":64,"column":49}},"33":{"start":{"line":68,"column":2},"end":{"line":80,"column":5}},"34":{"start":{"line":71,"column":4},"end":{"line":71,"column":33}},"35":{"start":{"line":73,"column":4},"end":{"line":73,"column":18}},"36":{"start":{"line":75,"column":4},"end":{"line":75,"column":18}},"37":{"start":{"line":77,"column":4},"end":{"line":77,"column":38}},"38":{"start":{"line":79,"column":4},"end":{"line":79,"column":18}},"39":{"start":{"line":83,"column":7},"end":{"line":96,"column":2}},"40":{"start":{"line":85,"column":2},"end":{"line":87,"column":5}},"41":{"start":{"line":86,"column":4},"end":{"line":86,"column":48}},"42":{"start":{"line":90,"column":2},"end":{"line":92,"column":5}},"43":{"start":{"line":91,"column":4},"end":{"line":91,"column":89}},"44":{"start":{"line":95,"column":2},"end":{"line":95,"column":53}},"45":{"start":{"line":98,"column":7},"end":{"line":109,"column":2}},"46":{"start":{"line":100,"column":2},"end":{"line":102,"column":14}},"47":{"start":{"line":101,"column":4},"end":{"line":101,"column":44}},"48":{"start":{"line":104,"column":2},"end":{"line":104,"column":44}},"49":{"start":{"line":106,"column":2},"end":{"line":106,"column":51}},"50":{"start":{"line":108,"column":2},"end":{"line":108,"column":51}}},"branchMap":{"1":{"line":26,"type":"cond-expr","locations":[{"start":{"line":26,"column":33},"end":{"line":26,"column":49}},{"start":{"line":26,"column":52},"end":{"line":26,"column":58}}]},"2":{"line":31,"type":"cond-expr","locations":[{"start":{"line":31,"column":24},"end":{"line":31,"column":31}},{"start":{"line":31,"column":34},"end":{"line":31,"column":41}}]},"3":{"line":52,"type":"cond-expr","locations":[{"start":{"line":52,"column":22},"end":{"line":52,"column":28}},{"start":{"line":52,"column":31},"end":{"line":52,"column":38}}]},"4":{"line":56,"type":"cond-expr","locations":[{"start":{"line":56,"column":41},"end":{"line":56,"column":50}},{"start":{"line":56,"column":53},"end":{"line":56,"column":59}}]},"5":{"line":58,"type":"cond-expr","locations":[{"start":{"line":58,"column":31},"end":{"line":58,"column":45}},{"start":{"line":58,"column":48},"end":{"line":58,"column":50}}]},"6":{"line":62,"type":"cond-expr","locations":[{"start":{"line":62,"column":41},"end":{"line":62,"column":50}},{"start":{"line":62,"column":53},"end":{"line":62,"column":59}}]},"7":{"line":64,"type":"cond-expr","locations":[{"start":{"line":64,"column":30},"end":{"line":64,"column":43}},{"start":{"line":64,"column":46},"end":{"line":64,"column":48}}]},"8":{"line":74,"type":"cond-expr","locations":[{"start":{"line":74,"column":68},"end":{"line":74,"column":75}},{"start":{"line":74,"column":78},"end":{"line":74,"column":84}}]},"9":{"line":91,"type":"cond-expr","locations":[{"start":{"line":91,"column":63},"end":{"line":91,"column":79}},{"start":{"line":91,"column":82},"end":{"line":91,"column":88}}]},"10":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":11},"end":{"line":91,"column":30}},{"start":{"line":91,"column":34},"end":{"line":91,"column":60}}]}}};
}
__cov_hphJaU8URKIJBoF$_GCtag = __cov_hphJaU8URKIJBoF$_GCtag['/Users/congwen.ma/dev/statechart-graph/lib/StateNode/node_definitions.js'];
__cov_hphJaU8URKIJBoF$_GCtag.s['1']++;var defineEntranceTransition=function defineEntranceTransition(nodeEnter,duration,stateNode){__cov_hphJaU8URKIJBoF$_GCtag.f['1']++;__cov_hphJaU8URKIJBoF$_GCtag.s['2']++;nodeEnter.attr('class','node').attr('transform',function(){__cov_hphJaU8URKIJBoF$_GCtag.f['2']++;__cov_hphJaU8URKIJBoF$_GCtag.s['3']++;return'translate('+stateNode.y0+','+stateNode.x0+')';}).on('click',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['3']++;__cov_hphJaU8URKIJBoF$_GCtag.s['4']++;stateNode.graph.exportPath(d.path);__cov_hphJaU8URKIJBoF$_GCtag.s['5']++;d.toggleCollapse();__cov_hphJaU8URKIJBoF$_GCtag.s['6']++;d.render();}).on('contextmenu',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['4']++;__cov_hphJaU8URKIJBoF$_GCtag.s['7']++;stateNode.graph.exportPath(d.path);__cov_hphJaU8URKIJBoF$_GCtag.s['8']++;stateNode.graph.branchoffRoot(d);__cov_hphJaU8URKIJBoF$_GCtag.s['9']++;d3.event.preventDefault();}).on('dblclick',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['5']++;__cov_hphJaU8URKIJBoF$_GCtag.s['10']++;stateNode.graph.exportPath(d.path);});__cov_hphJaU8URKIJBoF$_GCtag.s['11']++;nodeEnter.append('circle').attr('r',0.000001).style('fill',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['6']++;__cov_hphJaU8URKIJBoF$_GCtag.s['12']++;return d.collapsedChildren?(__cov_hphJaU8URKIJBoF$_GCtag.b['1'][0]++,'lightsteelblue'):(__cov_hphJaU8URKIJBoF$_GCtag.b['1'][1]++,'#fff');});__cov_hphJaU8URKIJBoF$_GCtag.s['13']++;var text=nodeEnter.append('text').attr('x',-10).attr('dy','.35em').attr('text-anchor','end').style('fill',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['7']++;__cov_hphJaU8URKIJBoF$_GCtag.s['14']++;return d.isActive?(__cov_hphJaU8URKIJBoF$_GCtag.b['2'][0]++,'white'):(__cov_hphJaU8URKIJBoF$_GCtag.b['2'][1]++,'black');}).text(function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['8']++;__cov_hphJaU8URKIJBoF$_GCtag.s['15']++;return d.name;}).style('fill-opacity','1').style('font-weight','bolder').style('font-family','monospace');__cov_hphJaU8URKIJBoF$_GCtag.s['16']++;text.each(function(stateNode){__cov_hphJaU8URKIJBoF$_GCtag.f['9']++;__cov_hphJaU8URKIJBoF$_GCtag.s['17']++;stateNode.bbox=this.getBBox();});__cov_hphJaU8URKIJBoF$_GCtag.s['18']++;var PADDING=5;__cov_hphJaU8URKIJBoF$_GCtag.s['19']++;var BORDER=1;__cov_hphJaU8URKIJBoF$_GCtag.s['20']++;nodeEnter.insert('rect','text').attr('x',function(stateNode){__cov_hphJaU8URKIJBoF$_GCtag.f['10']++;__cov_hphJaU8URKIJBoF$_GCtag.s['21']++;return-(stateNode.name.length+1)*6-2*PADDING;}).attr('y',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['11']++;__cov_hphJaU8URKIJBoF$_GCtag.s['22']++;return d.bbox.y-PADDING;}).attr('width',function(stateNode){__cov_hphJaU8URKIJBoF$_GCtag.f['12']++;__cov_hphJaU8URKIJBoF$_GCtag.s['23']++;return(stateNode.name.length+1)*6+PADDING*1.7-5*BORDER;}).attr('height',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['13']++;__cov_hphJaU8URKIJBoF$_GCtag.s['24']++;return d.bbox.height+PADDING*2;}).style('fill',function(_ref){__cov_hphJaU8URKIJBoF$_GCtag.f['14']++;__cov_hphJaU8URKIJBoF$_GCtag.s['25']++;var isActive=_ref.isActive;__cov_hphJaU8URKIJBoF$_GCtag.s['26']++;return isActive?(__cov_hphJaU8URKIJBoF$_GCtag.b['3'][0]++,'#555'):(__cov_hphJaU8URKIJBoF$_GCtag.b['3'][1]++,'white');}).style('stroke','#555').style('stroke-width','1px').style('stroke-opacity','1');__cov_hphJaU8URKIJBoF$_GCtag.s['27']++;nodeEnter.append('line').style('display',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['15']++;__cov_hphJaU8URKIJBoF$_GCtag.s['28']++;return d.cfg.showEnterExitHandlers?(__cov_hphJaU8URKIJBoF$_GCtag.b['4'][0]++,'display'):(__cov_hphJaU8URKIJBoF$_GCtag.b['4'][1]++,'none');}).attr('class',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['16']++;__cov_hphJaU8URKIJBoF$_GCtag.s['29']++;return d.hasEnterHandler?(__cov_hphJaU8URKIJBoF$_GCtag.b['5'][0]++,'enterHandler'):(__cov_hphJaU8URKIJBoF$_GCtag.b['5'][1]++,'');}).attr('x1',-5).attr('y1',-13).attr('x2',-10).attr('y2',-8);__cov_hphJaU8URKIJBoF$_GCtag.s['30']++;nodeEnter.append('line').style('display',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['17']++;__cov_hphJaU8URKIJBoF$_GCtag.s['31']++;return d.cfg.showEnterExitHandlers?(__cov_hphJaU8URKIJBoF$_GCtag.b['6'][0]++,'display'):(__cov_hphJaU8URKIJBoF$_GCtag.b['6'][1]++,'none');}).attr('class',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['18']++;__cov_hphJaU8URKIJBoF$_GCtag.s['32']++;return d.hasExitHandler?(__cov_hphJaU8URKIJBoF$_GCtag.b['7'][0]++,'exitHandler'):(__cov_hphJaU8URKIJBoF$_GCtag.b['7'][1]++,'');}).attr('x1',-10).attr('y1',-13).attr('x2',-15).attr('y2',-8);__cov_hphJaU8URKIJBoF$_GCtag.s['33']++;nodeEnter.selectAll('text').data(function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['19']++;__cov_hphJaU8URKIJBoF$_GCtag.s['34']++;return[{}].concat(d.events);}).enter().append('text').attr('class','eventName').attr('text-anchor','start').style('fill-opacity','1').attr('x',-30).attr('y',function(d,i){__cov_hphJaU8URKIJBoF$_GCtag.f['20']++;__cov_hphJaU8URKIJBoF$_GCtag.s['35']++;return i*15;}).attr('dy','0.5em').attr('display',stateNode.cfg.showEvents?(__cov_hphJaU8URKIJBoF$_GCtag.b['8'][0]++,'block'):(__cov_hphJaU8URKIJBoF$_GCtag.b['8'][1]++,'none')).text(function(e){__cov_hphJaU8URKIJBoF$_GCtag.f['21']++;__cov_hphJaU8URKIJBoF$_GCtag.s['36']++;return e.name;}).on('click',function(){__cov_hphJaU8URKIJBoF$_GCtag.f['22']++;__cov_hphJaU8URKIJBoF$_GCtag.s['37']++;return d3.event.stopPropagation();}).append('svg:title').text(function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['23']++;__cov_hphJaU8URKIJBoF$_GCtag.s['38']++;return d.func;});};__cov_hphJaU8URKIJBoF$_GCtag.s['39']++;var defineUpdateTransition=function defineUpdateTransition(nodeUpdate,duration){__cov_hphJaU8URKIJBoF$_GCtag.f['24']++;__cov_hphJaU8URKIJBoF$_GCtag.s['40']++;nodeUpdate.transition().duration(duration).attr('transform',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['25']++;__cov_hphJaU8URKIJBoF$_GCtag.s['41']++;return'translate('+d.y+','+d.x+')';});__cov_hphJaU8URKIJBoF$_GCtag.s['42']++;nodeUpdate.select('circle').attr('r',4.5).style('fill',function(d){__cov_hphJaU8URKIJBoF$_GCtag.f['26']++;__cov_hphJaU8URKIJBoF$_GCtag.s['43']++;return(__cov_hphJaU8URKIJBoF$_GCtag.b['10'][0]++,d.collapsedChildren)&&(__cov_hphJaU8URKIJBoF$_GCtag.b['10'][1]++,d.collapsedChildren.length)?(__cov_hphJaU8URKIJBoF$_GCtag.b['9'][0]++,'lightsteelblue'):(__cov_hphJaU8URKIJBoF$_GCtag.b['9'][1]++,'#fff');});__cov_hphJaU8URKIJBoF$_GCtag.s['44']++;nodeUpdate.select('text').style('fill-opacity',1);};__cov_hphJaU8URKIJBoF$_GCtag.s['45']++;var defineExitTransition=function defineExitTransition(nodeExit,duration,x,y){__cov_hphJaU8URKIJBoF$_GCtag.f['27']++;__cov_hphJaU8URKIJBoF$_GCtag.s['46']++;nodeExit.duration(duration).attr('transform',function(){__cov_hphJaU8URKIJBoF$_GCtag.f['28']++;__cov_hphJaU8URKIJBoF$_GCtag.s['47']++;return'translate('+y+','+x+')';}).remove();__cov_hphJaU8URKIJBoF$_GCtag.s['48']++;nodeExit.select('circle').attr('r',0.000001);__cov_hphJaU8URKIJBoF$_GCtag.s['49']++;nodeExit.select('text').style('fill-opacity',0);__cov_hphJaU8URKIJBoF$_GCtag.s['50']++;nodeExit.select('rect').style('fill-opacity',0);};

var __cov_USc7JPC4Q8tn7oDN5fkwIw = (Function('return this'))();
if (!__cov_USc7JPC4Q8tn7oDN5fkwIw.__coverage__) { __cov_USc7JPC4Q8tn7oDN5fkwIw.__coverage__ = {}; }
__cov_USc7JPC4Q8tn7oDN5fkwIw = __cov_USc7JPC4Q8tn7oDN5fkwIw.__coverage__;
if (!(__cov_USc7JPC4Q8tn7oDN5fkwIw['/Users/congwen.ma/dev/statechart-graph/lib/StateNode/link_definitions.js'])) {
   __cov_USc7JPC4Q8tn7oDN5fkwIw['/Users/congwen.ma/dev/statechart-graph/lib/StateNode/link_definitions.js'] = {"path":"/Users/congwen.ma/dev/statechart-graph/lib/StateNode/link_definitions.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":44},"end":{"line":1,"column":57}}},"2":{"name":"defineLinkTransitions","line":5,"loc":{"start":{"line":5,"column":35},"end":{"line":5,"column":93}}},"3":{"name":"(anonymous_3)","line":7,"loc":{"start":{"line":7,"column":60},"end":{"line":7,"column":73}}},"4":{"name":"(anonymous_4)","line":9,"loc":{"start":{"line":9,"column":19},"end":{"line":9,"column":32}}},"5":{"name":"(anonymous_5)","line":11,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":28}}},"6":{"name":"(anonymous_6)","line":20,"loc":{"start":{"line":20,"column":56},"end":{"line":20,"column":69}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":3}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":20}},"3":{"start":{"line":5,"column":7},"end":{"line":24,"column":2}},"4":{"start":{"line":7,"column":2},"end":{"line":14,"column":5}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":44}},"6":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"7":{"start":{"line":12,"column":4},"end":{"line":12,"column":49}},"8":{"start":{"line":13,"column":4},"end":{"line":13,"column":46}},"9":{"start":{"line":17,"column":2},"end":{"line":17,"column":59}},"10":{"start":{"line":20,"column":2},"end":{"line":23,"column":14}},"11":{"start":{"line":21,"column":4},"end":{"line":21,"column":47}},"12":{"start":{"line":22,"column":4},"end":{"line":22,"column":46}}},"branchMap":{"1":{"line":8,"type":"cond-expr","locations":[{"start":{"line":8,"column":33},"end":{"line":8,"column":38}},{"start":{"line":8,"column":41},"end":{"line":8,"column":43}}]},"2":{"line":10,"type":"cond-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":62}},{"start":{"line":10,"column":65},"end":{"line":10,"column":71}}]},"3":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":11},"end":{"line":10,"column":19}},{"start":{"line":10,"column":23},"end":{"line":10,"column":40}}]}}};
}
__cov_USc7JPC4Q8tn7oDN5fkwIw = __cov_USc7JPC4Q8tn7oDN5fkwIw['/Users/congwen.ma/dev/statechart-graph/lib/StateNode/link_definitions.js'];
__cov_USc7JPC4Q8tn7oDN5fkwIw.s['1']++;var diagonal=d3.svg.diagonal().projection(function(d){__cov_USc7JPC4Q8tn7oDN5fkwIw.f['1']++;__cov_USc7JPC4Q8tn7oDN5fkwIw.s['2']++;return[d.y,d.x];});__cov_USc7JPC4Q8tn7oDN5fkwIw.s['3']++;var defineLinkTransitions=function defineLinkTransitions(link,duration,stateNode){__cov_USc7JPC4Q8tn7oDN5fkwIw.f['2']++;__cov_USc7JPC4Q8tn7oDN5fkwIw.s['4']++;link.enter().insert('path','g').attr('stroke-dasharray',function(d){__cov_USc7JPC4Q8tn7oDN5fkwIw.f['3']++;__cov_USc7JPC4Q8tn7oDN5fkwIw.s['5']++;return d.source.concurrent?(__cov_USc7JPC4Q8tn7oDN5fkwIw.b['1'][0]++,'5,5'):(__cov_USc7JPC4Q8tn7oDN5fkwIw.b['1'][1]++,'');}).attr('class',function(d){__cov_USc7JPC4Q8tn7oDN5fkwIw.f['4']++;__cov_USc7JPC4Q8tn7oDN5fkwIw.s['6']++;return(__cov_USc7JPC4Q8tn7oDN5fkwIw.b['3'][0]++,d.target)&&(__cov_USc7JPC4Q8tn7oDN5fkwIw.b['3'][1]++,d.target.isActive)?(__cov_USc7JPC4Q8tn7oDN5fkwIw.b['2'][0]++,'link link--active'):(__cov_USc7JPC4Q8tn7oDN5fkwIw.b['2'][1]++,'link');}).attr('d',function(d){__cov_USc7JPC4Q8tn7oDN5fkwIw.f['5']++;__cov_USc7JPC4Q8tn7oDN5fkwIw.s['7']++;var o={x:stateNode.x0,y:stateNode.y0};__cov_USc7JPC4Q8tn7oDN5fkwIw.s['8']++;return diagonal({source:o,target:o});});__cov_USc7JPC4Q8tn7oDN5fkwIw.s['9']++;link.transition().duration(duration).attr('d',diagonal);__cov_USc7JPC4Q8tn7oDN5fkwIw.s['10']++;link.exit().transition().duration(duration).attr('d',function(d){__cov_USc7JPC4Q8tn7oDN5fkwIw.f['6']++;__cov_USc7JPC4Q8tn7oDN5fkwIw.s['11']++;var o={x:stateNode.x,y:stateNode.y};__cov_USc7JPC4Q8tn7oDN5fkwIw.s['12']++;return diagonal({source:o,target:o});}).remove();};

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

var toConsumableArray = function (arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

    return arr2;
  } else {
    return Array.from(arr);
  }
};

var __cov_4wRF_yyA5uk5fWgecQbvag = (Function('return this'))();
if (!__cov_4wRF_yyA5uk5fWgecQbvag.__coverage__) { __cov_4wRF_yyA5uk5fWgecQbvag.__coverage__ = {}; }
__cov_4wRF_yyA5uk5fWgecQbvag = __cov_4wRF_yyA5uk5fWgecQbvag.__coverage__;
if (!(__cov_4wRF_yyA5uk5fWgecQbvag['/Users/congwen.ma/dev/statechart-graph/lib/StateNode/index.js'])) {
   __cov_4wRF_yyA5uk5fWgecQbvag['/Users/congwen.ma/dev/statechart-graph/lib/StateNode/index.js'] = {"path":"/Users/congwen.ma/dev/statechart-graph/lib/StateNode/index.js","s":{"1":0,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"fnMap":{"1":{"name":"(anonymous_1)","line":7,"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":28}}},"2":{"name":"StateNode","line":8,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":27}}},"3":{"name":"(anonymous_3)","line":48,"loc":{"start":{"line":48,"column":45},"end":{"line":48,"column":62}}},"4":{"name":"toggleCollapse","line":61,"loc":{"start":{"line":61,"column":11},"end":{"line":61,"column":37}}},"5":{"name":"tryCollapse","line":75,"loc":{"start":{"line":75,"column":11},"end":{"line":75,"column":34}}},"6":{"name":"(anonymous_6)","line":80,"loc":{"start":{"line":80,"column":28},"end":{"line":80,"column":45}}},"7":{"name":"onClick","line":89,"loc":{"start":{"line":89,"column":11},"end":{"line":89,"column":30}}},"8":{"name":"render","line":95,"loc":{"start":{"line":95,"column":11},"end":{"line":95,"column":29}}},"9":{"name":"(anonymous_9)","line":101,"loc":{"start":{"line":101,"column":25},"end":{"line":101,"column":38}}},"10":{"name":"(anonymous_10)","line":108,"loc":{"start":{"line":108,"column":66},"end":{"line":108,"column":79}}},"11":{"name":"(anonymous_11)","line":119,"loc":{"start":{"line":119,"column":72},"end":{"line":119,"column":85}}},"12":{"name":"(anonymous_12)","line":125,"loc":{"start":{"line":125,"column":25},"end":{"line":125,"column":41}}},"13":{"name":"get","line":132,"loc":{"start":{"line":132,"column":9},"end":{"line":132,"column":24}}},"14":{"name":"get","line":140,"loc":{"start":{"line":140,"column":9},"end":{"line":140,"column":24}}},"15":{"name":"get","line":145,"loc":{"start":{"line":145,"column":9},"end":{"line":145,"column":24}}},"16":{"name":"(anonymous_16)","line":152,"loc":{"start":{"line":152,"column":17},"end":{"line":152,"column":33}}},"17":{"name":"(anonymous_17)","line":153,"loc":{"start":{"line":153,"column":24},"end":{"line":153,"column":37}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":17}},"2":{"start":{"line":7,"column":0},"end":{"line":150,"column":4}},"3":{"start":{"line":8,"column":2},"end":{"line":57,"column":3}},"4":{"start":{"line":9,"column":4},"end":{"line":9,"column":21}},"5":{"start":{"line":11,"column":4},"end":{"line":11,"column":33}},"6":{"start":{"line":12,"column":4},"end":{"line":12,"column":38}},"7":{"start":{"line":13,"column":4},"end":{"line":13,"column":34}},"8":{"start":{"line":14,"column":4},"end":{"line":14,"column":36}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"10":{"start":{"line":16,"column":4},"end":{"line":16,"column":46}},"11":{"start":{"line":17,"column":4},"end":{"line":17,"column":38}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":42}},"13":{"start":{"line":19,"column":4},"end":{"line":19,"column":56}},"14":{"start":{"line":20,"column":4},"end":{"line":20,"column":54}},"15":{"start":{"line":21,"column":4},"end":{"line":21,"column":23}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":29}},"17":{"start":{"line":23,"column":4},"end":{"line":23,"column":23}},"18":{"start":{"line":24,"column":4},"end":{"line":24,"column":27}},"19":{"start":{"line":25,"column":4},"end":{"line":25,"column":49}},"20":{"start":{"line":27,"column":4},"end":{"line":27,"column":23}},"21":{"start":{"line":28,"column":4},"end":{"line":28,"column":35}},"22":{"start":{"line":29,"column":4},"end":{"line":29,"column":19}},"23":{"start":{"line":30,"column":4},"end":{"line":30,"column":25}},"24":{"start":{"line":32,"column":4},"end":{"line":32,"column":19}},"25":{"start":{"line":33,"column":4},"end":{"line":33,"column":23}},"26":{"start":{"line":35,"column":4},"end":{"line":35,"column":21}},"27":{"start":{"line":36,"column":4},"end":{"line":36,"column":23}},"28":{"start":{"line":37,"column":4},"end":{"line":37,"column":29}},"29":{"start":{"line":38,"column":4},"end":{"line":38,"column":43}},"30":{"start":{"line":39,"column":4},"end":{"line":39,"column":41}},"31":{"start":{"line":40,"column":4},"end":{"line":40,"column":33}},"32":{"start":{"line":41,"column":4},"end":{"line":41,"column":25}},"33":{"start":{"line":43,"column":4},"end":{"line":43,"column":44}},"34":{"start":{"line":44,"column":4},"end":{"line":44,"column":41}},"35":{"start":{"line":45,"column":4},"end":{"line":45,"column":16}},"36":{"start":{"line":46,"column":4},"end":{"line":46,"column":32}},"37":{"start":{"line":47,"column":4},"end":{"line":47,"column":30}},"38":{"start":{"line":48,"column":4},"end":{"line":56,"column":7}},"39":{"start":{"line":49,"column":6},"end":{"line":55,"column":10}},"40":{"start":{"line":59,"column":2},"end":{"line":148,"column":6}},"41":{"start":{"line":62,"column":6},"end":{"line":68,"column":7}},"42":{"start":{"line":63,"column":8},"end":{"line":63,"column":47}},"43":{"start":{"line":64,"column":8},"end":{"line":64,"column":29}},"44":{"start":{"line":66,"column":8},"end":{"line":66,"column":47}},"45":{"start":{"line":67,"column":8},"end":{"line":67,"column":38}},"46":{"start":{"line":76,"column":6},"end":{"line":84,"column":7}},"47":{"start":{"line":77,"column":8},"end":{"line":83,"column":9}},"48":{"start":{"line":78,"column":10},"end":{"line":78,"column":32}},"49":{"start":{"line":80,"column":10},"end":{"line":82,"column":13}},"50":{"start":{"line":81,"column":12},"end":{"line":81,"column":39}},"51":{"start":{"line":85,"column":6},"end":{"line":85,"column":20}},"52":{"start":{"line":90,"column":6},"end":{"line":90,"column":28}},"53":{"start":{"line":91,"column":6},"end":{"line":91,"column":29}},"54":{"start":{"line":97,"column":6},"end":{"line":97,"column":48}},"55":{"start":{"line":98,"column":6},"end":{"line":98,"column":62}},"56":{"start":{"line":101,"column":6},"end":{"line":104,"column":9}},"57":{"start":{"line":103,"column":8},"end":{"line":103,"column":28}},"58":{"start":{"line":107,"column":6},"end":{"line":107,"column":23}},"59":{"start":{"line":108,"column":6},"end":{"line":110,"column":9}},"60":{"start":{"line":109,"column":8},"end":{"line":109,"column":43}},"61":{"start":{"line":112,"column":6},"end":{"line":112,"column":76}},"62":{"start":{"line":114,"column":6},"end":{"line":114,"column":48}},"63":{"start":{"line":116,"column":6},"end":{"line":116,"column":82}},"64":{"start":{"line":118,"column":6},"end":{"line":118,"column":58}},"65":{"start":{"line":119,"column":6},"end":{"line":122,"column":8}},"66":{"start":{"line":120,"column":8},"end":{"line":120,"column":27}},"67":{"start":{"line":125,"column":6},"end":{"line":128,"column":9}},"68":{"start":{"line":126,"column":8},"end":{"line":126,"column":25}},"69":{"start":{"line":127,"column":8},"end":{"line":127,"column":25}},"70":{"start":{"line":133,"column":6},"end":{"line":135,"column":7}},"71":{"start":{"line":134,"column":8},"end":{"line":134,"column":18}},"72":{"start":{"line":136,"column":6},"end":{"line":136,"column":91}},"73":{"start":{"line":141,"column":6},"end":{"line":141,"column":44}},"74":{"start":{"line":146,"column":6},"end":{"line":146,"column":26}},"75":{"start":{"line":149,"column":2},"end":{"line":149,"column":19}},"76":{"start":{"line":152,"column":0},"end":{"line":156,"column":2}},"77":{"start":{"line":153,"column":2},"end":{"line":155,"column":8}},"78":{"start":{"line":154,"column":4},"end":{"line":154,"column":39}}},"branchMap":{"1":{"line":28,"type":"binary-expr","locations":[{"start":{"line":28,"column":20},"end":{"line":28,"column":28}},{"start":{"line":28,"column":32},"end":{"line":28,"column":34}}]},"2":{"line":43,"type":"cond-expr","locations":[{"start":{"line":43,"column":25},"end":{"line":43,"column":36}},{"start":{"line":43,"column":39},"end":{"line":43,"column":43}}]},"3":{"line":48,"type":"binary-expr","locations":[{"start":{"line":48,"column":20},"end":{"line":48,"column":28}},{"start":{"line":48,"column":32},"end":{"line":56,"column":6}}]},"4":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":6},"end":{"line":62,"column":6}},{"start":{"line":62,"column":6},"end":{"line":62,"column":6}}]},"5":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":6},"end":{"line":76,"column":6}},{"start":{"line":76,"column":6},"end":{"line":76,"column":6}}]},"6":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":8},"end":{"line":77,"column":8}},{"start":{"line":77,"column":8},"end":{"line":77,"column":8}}]},"7":{"line":109,"type":"binary-expr","locations":[{"start":{"line":109,"column":15},"end":{"line":109,"column":19}},{"start":{"line":109,"column":24},"end":{"line":109,"column":41}}]},"8":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":6},"end":{"line":133,"column":6}},{"start":{"line":133,"column":6},"end":{"line":133,"column":6}}]}}};
}
__cov_4wRF_yyA5uk5fWgecQbvag = __cov_4wRF_yyA5uk5fWgecQbvag['/Users/congwen.ma/dev/statechart-graph/lib/StateNode/index.js'];
__cov_4wRF_yyA5uk5fWgecQbvag.s['1']++;var records=[];__cov_4wRF_yyA5uk5fWgecQbvag.s['2']++;var StateNode=function(){__cov_4wRF_yyA5uk5fWgecQbvag.f['1']++;function StateNode(_ref){__cov_4wRF_yyA5uk5fWgecQbvag.f['2']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['4']++;var _this=this;__cov_4wRF_yyA5uk5fWgecQbvag.s['5']++;var metadata=_ref.metadata;__cov_4wRF_yyA5uk5fWgecQbvag.s['6']++;var _ref$metadata=_ref.metadata;__cov_4wRF_yyA5uk5fWgecQbvag.s['7']++;var name=_ref$metadata.name;__cov_4wRF_yyA5uk5fWgecQbvag.s['8']++;var level=_ref$metadata.level;__cov_4wRF_yyA5uk5fWgecQbvag.s['9']++;var isActive=_ref$metadata.isActive;__cov_4wRF_yyA5uk5fWgecQbvag.s['10']++;var concurrent=_ref$metadata.concurrent;__cov_4wRF_yyA5uk5fWgecQbvag.s['11']++;var events=_ref$metadata.events;__cov_4wRF_yyA5uk5fWgecQbvag.s['12']++;var children=_ref$metadata.children;__cov_4wRF_yyA5uk5fWgecQbvag.s['13']++;var hasEnterHandler=_ref$metadata.hasEnterHandler;__cov_4wRF_yyA5uk5fWgecQbvag.s['14']++;var hasExitHandler=_ref$metadata.hasExitHandler;__cov_4wRF_yyA5uk5fWgecQbvag.s['15']++;var cfg=_ref.cfg;__cov_4wRF_yyA5uk5fWgecQbvag.s['16']++;var parent=_ref.parent;__cov_4wRF_yyA5uk5fWgecQbvag.s['17']++;var svg=_ref.svg;__cov_4wRF_yyA5uk5fWgecQbvag.s['18']++;var graph=_ref.graph;__cov_4wRF_yyA5uk5fWgecQbvag.s['19']++;classCallCheck(this,StateNode);__cov_4wRF_yyA5uk5fWgecQbvag.s['20']++;records.push(this);__cov_4wRF_yyA5uk5fWgecQbvag.s['21']++;this.metadata=(__cov_4wRF_yyA5uk5fWgecQbvag.b['1'][0]++,metadata)||(__cov_4wRF_yyA5uk5fWgecQbvag.b['1'][1]++,{});__cov_4wRF_yyA5uk5fWgecQbvag.s['22']++;this.cfg=cfg;__cov_4wRF_yyA5uk5fWgecQbvag.s['23']++;this.parent=parent;__cov_4wRF_yyA5uk5fWgecQbvag.s['24']++;this.svg=svg;__cov_4wRF_yyA5uk5fWgecQbvag.s['25']++;this.graph=graph;__cov_4wRF_yyA5uk5fWgecQbvag.s['26']++;this.name=name;__cov_4wRF_yyA5uk5fWgecQbvag.s['27']++;this.level=level;__cov_4wRF_yyA5uk5fWgecQbvag.s['28']++;this.isActive=isActive;__cov_4wRF_yyA5uk5fWgecQbvag.s['29']++;this.hasEnterHandler=hasEnterHandler;__cov_4wRF_yyA5uk5fWgecQbvag.s['30']++;this.hasExitHandler=hasExitHandler;__cov_4wRF_yyA5uk5fWgecQbvag.s['31']++;this.concurrent=concurrent;__cov_4wRF_yyA5uk5fWgecQbvag.s['32']++;this.events=events;__cov_4wRF_yyA5uk5fWgecQbvag.s['33']++;this.root=parent?(__cov_4wRF_yyA5uk5fWgecQbvag.b['2'][0]++,parent.root):(__cov_4wRF_yyA5uk5fWgecQbvag.b['2'][1]++,this);__cov_4wRF_yyA5uk5fWgecQbvag.s['34']++;this.x0=this.cfg.contentHeight/2;__cov_4wRF_yyA5uk5fWgecQbvag.s['35']++;this.y0=0;__cov_4wRF_yyA5uk5fWgecQbvag.s['36']++;this.collapsedChildren=[];__cov_4wRF_yyA5uk5fWgecQbvag.s['37']++;this.limboedChildren=[];__cov_4wRF_yyA5uk5fWgecQbvag.s['38']++;this.children=(__cov_4wRF_yyA5uk5fWgecQbvag.b['3'][0]++,children)&&(__cov_4wRF_yyA5uk5fWgecQbvag.b['3'][1]++,children.map(function(child){__cov_4wRF_yyA5uk5fWgecQbvag.f['3']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['39']++;return new StateNode(Object.assign({cfg:cfg,parent:_this,svg:svg,graph:graph,metadata:child}));}));}__cov_4wRF_yyA5uk5fWgecQbvag.s['40']++;createClass(StateNode,[{key:'toggleCollapse',value:function toggleCollapse(){__cov_4wRF_yyA5uk5fWgecQbvag.f['4']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['41']++;if(this.children){__cov_4wRF_yyA5uk5fWgecQbvag.b['4'][0]++;__cov_4wRF_yyA5uk5fWgecQbvag.s['42']++;this.collapsedChildren=this.children;__cov_4wRF_yyA5uk5fWgecQbvag.s['43']++;this.children=null;}else{__cov_4wRF_yyA5uk5fWgecQbvag.b['4'][1]++;__cov_4wRF_yyA5uk5fWgecQbvag.s['44']++;this.children=this.collapsedChildren;__cov_4wRF_yyA5uk5fWgecQbvag.s['45']++;this.collapsedChildren=null;}}},{key:'tryCollapse',value:function tryCollapse(){__cov_4wRF_yyA5uk5fWgecQbvag.f['5']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['46']++;if(this.children){__cov_4wRF_yyA5uk5fWgecQbvag.b['5'][0]++;__cov_4wRF_yyA5uk5fWgecQbvag.s['47']++;if(!this.isActive){__cov_4wRF_yyA5uk5fWgecQbvag.b['6'][0]++;__cov_4wRF_yyA5uk5fWgecQbvag.s['48']++;this.toggleCollapse();}else{__cov_4wRF_yyA5uk5fWgecQbvag.b['6'][1]++;__cov_4wRF_yyA5uk5fWgecQbvag.s['49']++;this.children.map(function(child){__cov_4wRF_yyA5uk5fWgecQbvag.f['6']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['50']++;return child.tryCollapse();});}}else{__cov_4wRF_yyA5uk5fWgecQbvag.b['5'][1]++;}__cov_4wRF_yyA5uk5fWgecQbvag.s['51']++;this.render();}},{key:'onClick',value:function onClick(){__cov_4wRF_yyA5uk5fWgecQbvag.f['7']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['52']++;this.toggleCollapse();__cov_4wRF_yyA5uk5fWgecQbvag.s['53']++;this.graph.buildTree();}},{key:'render',value:function render(){__cov_4wRF_yyA5uk5fWgecQbvag.f['8']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['54']++;var duration=this.cfg.animationDuration;__cov_4wRF_yyA5uk5fWgecQbvag.s['55']++;var stateNodes=this.graph.treeLayout.nodes(this.root);__cov_4wRF_yyA5uk5fWgecQbvag.s['56']++;stateNodes.forEach(function(d){__cov_4wRF_yyA5uk5fWgecQbvag.f['9']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['57']++;d.y=d.depth*180;});__cov_4wRF_yyA5uk5fWgecQbvag.s['58']++;var uniqueId=0;__cov_4wRF_yyA5uk5fWgecQbvag.s['59']++;var svgNode=this.svg.selectAll('g.node').data(stateNodes,function(d){__cov_4wRF_yyA5uk5fWgecQbvag.f['10']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['60']++;return(__cov_4wRF_yyA5uk5fWgecQbvag.b['7'][0]++,d.id)||(__cov_4wRF_yyA5uk5fWgecQbvag.b['7'][1]++,d.id=++uniqueId);});__cov_4wRF_yyA5uk5fWgecQbvag.s['61']++;defineEntranceTransition(svgNode.enter().append('g'),duration,this);__cov_4wRF_yyA5uk5fWgecQbvag.s['62']++;defineUpdateTransition(svgNode,duration);__cov_4wRF_yyA5uk5fWgecQbvag.s['63']++;defineExitTransition(svgNode.exit().transition(),duration,this.x,this.y);__cov_4wRF_yyA5uk5fWgecQbvag.s['64']++;var links=this.graph.treeLayout.links(stateNodes);__cov_4wRF_yyA5uk5fWgecQbvag.s['65']++;defineLinkTransitions(this.svg.selectAll('path.link').data(links,function(d){__cov_4wRF_yyA5uk5fWgecQbvag.f['11']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['66']++;return d.target.id;}),duration,this);__cov_4wRF_yyA5uk5fWgecQbvag.s['67']++;stateNodes.forEach(function(node){__cov_4wRF_yyA5uk5fWgecQbvag.f['12']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['68']++;node.x0=node.x;__cov_4wRF_yyA5uk5fWgecQbvag.s['69']++;node.y0=node.y;});}},{key:'hierarchy',get:function get(){__cov_4wRF_yyA5uk5fWgecQbvag.f['13']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['70']++;if(this.isRoot){__cov_4wRF_yyA5uk5fWgecQbvag.b['8'][0]++;__cov_4wRF_yyA5uk5fWgecQbvag.s['71']++;return[];}else{__cov_4wRF_yyA5uk5fWgecQbvag.b['8'][1]++;}__cov_4wRF_yyA5uk5fWgecQbvag.s['72']++;return[].concat(toConsumableArray(this.parent.hierarchy),[this.name]);}},{key:'path',get:function get(){__cov_4wRF_yyA5uk5fWgecQbvag.f['14']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['73']++;return'/'+this.hierarchy.join('/');}},{key:'isRoot',get:function get(){__cov_4wRF_yyA5uk5fWgecQbvag.f['15']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['74']++;return!this.parent;}}]);__cov_4wRF_yyA5uk5fWgecQbvag.s['75']++;return StateNode;}();__cov_4wRF_yyA5uk5fWgecQbvag.s['76']++;StateNode.find=function(name){__cov_4wRF_yyA5uk5fWgecQbvag.f['16']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['77']++;return records.filter(function(r){__cov_4wRF_yyA5uk5fWgecQbvag.f['17']++;__cov_4wRF_yyA5uk5fWgecQbvag.s['78']++;return r.name.indexOf(name)!==-1;})[0];};

var __cov_vbTGfjgzhzlxhnitCbK8Cg = (Function('return this'))();
if (!__cov_vbTGfjgzhzlxhnitCbK8Cg.__coverage__) { __cov_vbTGfjgzhzlxhnitCbK8Cg.__coverage__ = {}; }
__cov_vbTGfjgzhzlxhnitCbK8Cg = __cov_vbTGfjgzhzlxhnitCbK8Cg.__coverage__;
if (!(__cov_vbTGfjgzhzlxhnitCbK8Cg['/Users/congwen.ma/dev/statechart-graph/lib/config.js'])) {
   __cov_vbTGfjgzhzlxhnitCbK8Cg['/Users/congwen.ma/dev/statechart-graph/lib/config.js'] = {"path":"/Users/congwen.ma/dev/statechart-graph/lib/config.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"calculateConfig","line":1,"loc":{"start":{"line":1,"column":29},"end":{"line":1,"column":62}}}},"statementMap":{"1":{"start":{"line":1,"column":7},"end":{"line":22,"column":2}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":37}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":31}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":35}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":37}},"6":{"start":{"line":6,"column":2},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":2},"end":{"line":7,"column":29}},"8":{"start":{"line":8,"column":2},"end":{"line":8,"column":27}},"9":{"start":{"line":9,"column":2},"end":{"line":9,"column":29}},"10":{"start":{"line":12,"column":2},"end":{"line":21,"column":13}},"11":{"start":{"line":25,"column":0},"end":{"line":29,"column":3}}},"branchMap":{}};
}
__cov_vbTGfjgzhzlxhnitCbK8Cg = __cov_vbTGfjgzhzlxhnitCbK8Cg['/Users/congwen.ma/dev/statechart-graph/lib/config.js'];
__cov_vbTGfjgzhzlxhnitCbK8Cg.s['1']++;var calculateConfig=function calculateConfig(params){__cov_vbTGfjgzhzlxhnitCbK8Cg.f['1']++;__cov_vbTGfjgzhzlxhnitCbK8Cg.s['2']++;var _params$margin=params.margin;__cov_vbTGfjgzhzlxhnitCbK8Cg.s['3']++;var top=_params$margin.top;__cov_vbTGfjgzhzlxhnitCbK8Cg.s['4']++;var right=_params$margin.right;__cov_vbTGfjgzhzlxhnitCbK8Cg.s['5']++;var bottom=_params$margin.bottom;__cov_vbTGfjgzhzlxhnitCbK8Cg.s['6']++;var left=_params$margin.left;__cov_vbTGfjgzhzlxhnitCbK8Cg.s['7']++;var margin=params.margin;__cov_vbTGfjgzhzlxhnitCbK8Cg.s['8']++;var width=params.width;__cov_vbTGfjgzhzlxhnitCbK8Cg.s['9']++;var height=params.height;__cov_vbTGfjgzhzlxhnitCbK8Cg.s['10']++;return Object.assign({animationDuration:750,contentWidth:width-right-left,contentHeight:height-top-bottom,showEvents:false,showEnterExitHandlers:false,branchOff:false,castrationLevel:0},params);};__cov_vbTGfjgzhzlxhnitCbK8Cg.s['11']++;var MONITOR_CONFIG=calculateConfig({margin:{top:20,right:120,bottom:20,left:120},width:1600,height:800});

var __cov_BKPe$y4yVOdx5mEQwD$5Mw = (Function('return this'))();
if (!__cov_BKPe$y4yVOdx5mEQwD$5Mw.__coverage__) { __cov_BKPe$y4yVOdx5mEQwD$5Mw.__coverage__ = {}; }
__cov_BKPe$y4yVOdx5mEQwD$5Mw = __cov_BKPe$y4yVOdx5mEQwD$5Mw.__coverage__;
if (!(__cov_BKPe$y4yVOdx5mEQwD$5Mw['/Users/congwen.ma/dev/statechart-graph/lib/svg.js'])) {
   __cov_BKPe$y4yVOdx5mEQwD$5Mw['/Users/congwen.ma/dev/statechart-graph/lib/svg.js'] = {"path":"/Users/congwen.ma/dev/statechart-graph/lib/svg.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":118},"end":{"line":3,"column":131}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":14},"end":{"line":7,"column":26}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":5,"column":101}},"2":{"start":{"line":4,"column":2},"end":{"line":4,"column":35}},"3":{"start":{"line":7,"column":0},"end":{"line":10,"column":2}},"4":{"start":{"line":8,"column":2},"end":{"line":8,"column":36}},"5":{"start":{"line":9,"column":2},"end":{"line":9,"column":39}}},"branchMap":{}};
}
__cov_BKPe$y4yVOdx5mEQwD$5Mw = __cov_BKPe$y4yVOdx5mEQwD$5Mw['/Users/congwen.ma/dev/statechart-graph/lib/svg.js'];
__cov_BKPe$y4yVOdx5mEQwD$5Mw.s['1']++;var svg=d3.select('body').append('svg').attr('width',MONITOR_CONFIG.width).attr('height',MONITOR_CONFIG.height).on('contextmenu',function(e){__cov_BKPe$y4yVOdx5mEQwD$5Mw.f['1']++;__cov_BKPe$y4yVOdx5mEQwD$5Mw.s['2']++;return d3.event.preventDefault();}).append('g').attr('transform','translate('+MONITOR_CONFIG.margin.left+', '+MONITOR_CONFIG.margin.top+')');__cov_BKPe$y4yVOdx5mEQwD$5Mw.s['3']++;svg.cleanup=function(){__cov_BKPe$y4yVOdx5mEQwD$5Mw.f['2']++;__cov_BKPe$y4yVOdx5mEQwD$5Mw.s['4']++;this.selectAll('g.node').remove();__cov_BKPe$y4yVOdx5mEQwD$5Mw.s['5']++;this.selectAll('path.link').remove();};

var __cov_6cjZSModgixRhm1ElBUDBg = (Function('return this'))();
if (!__cov_6cjZSModgixRhm1ElBUDBg.__coverage__) { __cov_6cjZSModgixRhm1ElBUDBg.__coverage__ = {}; }
__cov_6cjZSModgixRhm1ElBUDBg = __cov_6cjZSModgixRhm1ElBUDBg.__coverage__;
if (!(__cov_6cjZSModgixRhm1ElBUDBg['/Users/congwen.ma/dev/statechart-graph/lib/legend.js'])) {
   __cov_6cjZSModgixRhm1ElBUDBg['/Users/congwen.ma/dev/statechart-graph/lib/legend.js'] = {"path":"/Users/congwen.ma/dev/statechart-graph/lib/legend.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"mapObject","line":139,"loc":{"start":{"line":139,"column":16},"end":{"line":139,"column":53}}},"2":{"name":"(anonymous_2)","line":147,"loc":{"start":{"line":147,"column":106},"end":{"line":147,"column":122}}},"3":{"name":"(anonymous_3)","line":151,"loc":{"start":{"line":151,"column":15},"end":{"line":151,"column":28}}},"4":{"name":"(anonymous_4)","line":153,"loc":{"start":{"line":153,"column":8},"end":{"line":153,"column":21}}},"5":{"name":"(anonymous_5)","line":159,"loc":{"start":{"line":159,"column":47},"end":{"line":159,"column":63}}},"6":{"name":"(anonymous_6)","line":167,"loc":{"start":{"line":167,"column":57},"end":{"line":167,"column":70}}},"7":{"name":"toggleLegend","line":171,"loc":{"start":{"line":171,"column":0},"end":{"line":171,"column":24}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":129}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":156}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":104}},"4":{"start":{"line":9,"column":0},"end":{"line":137,"column":3}},"5":{"start":{"line":139,"column":0},"end":{"line":145,"column":2}},"6":{"start":{"line":140,"column":2},"end":{"line":140,"column":15}},"7":{"start":{"line":141,"column":2},"end":{"line":143,"column":3}},"8":{"start":{"line":142,"column":4},"end":{"line":142,"column":37}},"9":{"start":{"line":144,"column":2},"end":{"line":144,"column":13}},"10":{"start":{"line":147,"column":0},"end":{"line":149,"column":44}},"11":{"start":{"line":148,"column":2},"end":{"line":148,"column":49}},"12":{"start":{"line":151,"column":0},"end":{"line":165,"column":3}},"13":{"start":{"line":152,"column":2},"end":{"line":152,"column":60}},"14":{"start":{"line":154,"column":2},"end":{"line":154,"column":24}},"15":{"start":{"line":155,"column":2},"end":{"line":155,"column":22}},"16":{"start":{"line":156,"column":2},"end":{"line":156,"column":20}},"17":{"start":{"line":158,"column":2},"end":{"line":158,"column":48}},"18":{"start":{"line":159,"column":2},"end":{"line":161,"column":16}},"19":{"start":{"line":160,"column":4},"end":{"line":160,"column":30}},"20":{"start":{"line":162,"column":2},"end":{"line":164,"column":3}},"21":{"start":{"line":163,"column":4},"end":{"line":163,"column":26}},"22":{"start":{"line":167,"column":0},"end":{"line":169,"column":30}},"23":{"start":{"line":168,"column":2},"end":{"line":168,"column":23}},"24":{"start":{"line":171,"column":0},"end":{"line":176,"column":1}},"25":{"start":{"line":172,"column":2},"end":{"line":172,"column":77}},"26":{"start":{"line":173,"column":2},"end":{"line":173,"column":87}},"27":{"start":{"line":175,"column":2},"end":{"line":175,"column":141}},"28":{"start":{"line":178,"column":0},"end":{"line":178,"column":39}},"29":{"start":{"line":179,"column":0},"end":{"line":179,"column":52}},"30":{"start":{"line":181,"column":7},"end":{"line":181,"column":31}}},"branchMap":{"1":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":2},"end":{"line":162,"column":2}},{"start":{"line":162,"column":2},"end":{"line":162,"column":2}}]},"2":{"line":172,"type":"cond-expr","locations":[{"start":{"line":172,"column":52},"end":{"line":172,"column":57}},{"start":{"line":172,"column":60},"end":{"line":172,"column":76}}]},"3":{"line":173,"type":"cond-expr","locations":[{"start":{"line":173,"column":73},"end":{"line":173,"column":78}},{"start":{"line":173,"column":81},"end":{"line":173,"column":85}}]},"4":{"line":175,"type":"cond-expr","locations":[{"start":{"line":175,"column":79},"end":{"line":175,"column":82}},{"start":{"line":175,"column":85},"end":{"line":175,"column":88}}]},"5":{"line":175,"type":"cond-expr","locations":[{"start":{"line":175,"column":130},"end":{"line":175,"column":133}},{"start":{"line":175,"column":136},"end":{"line":175,"column":139}}]}}};
}
__cov_6cjZSModgixRhm1ElBUDBg = __cov_6cjZSModgixRhm1ElBUDBg['/Users/congwen.ma/dev/statechart-graph/lib/legend.js'];
__cov_6cjZSModgixRhm1ElBUDBg.s['1']++;var legendWrapper=svg.append('g').attr('class','legends').attr('transform','translate(-10, 500)').style('cursor','pointer');__cov_6cjZSModgixRhm1ElBUDBg.s['2']++;var background=legendWrapper.append('rect').attr('fill','#eee').attr('width','180').attr('height','300').attr('x',-100).attr('y',-50).attr('rx',10);__cov_6cjZSModgixRhm1ElBUDBg.s['3']++;legendWrapper.append('text').text('Legend').attr('font-size','20px').attr('y','-10').attr('x','-50');__cov_6cjZSModgixRhm1ElBUDBg.s['4']++;var LEGEND_DATA=[{node:'circle',attrs:{'r':4.5},styles:{fill:'white','stroke-width':1,stroke:'steelblue'},description:'node w/o children'},{node:'circle',attrs:{'r':4.5},styles:{fill:'lightsteelblue','stroke-width':1,stroke:'steelblue'},description:'node w/ children'},{node:'path',attrs:{d:'M-10,0 L10,0'},styles:{stroke:'#ccc','stroke-width':'1'},description:'inactive path'},{node:'path',attrs:{d:'M-10,0 L10,0'},styles:{stroke:'#ccc','stroke-width':'3'},description:'active path'},{node:'path',attrs:{d:'M-10,0 L10,0'},styles:{stroke:'#ccc','stroke-width':'3','stroke-dasharray':'4,4'},description:'concurrent path'},{node:'rect',attrs:{x:'-10',y:'-7',height:15,width:20},styles:{fill:'#555',stroke:'#555'},description:'active state'},{node:'rect',attrs:{x:'-10',y:'-7',height:15,width:20},styles:{fill:'white',stroke:'#555'},description:'inactive state'},{node:'text',attrs:{x:-9,y:5,class:'eventName'},text:'clk',description:'event name'},{node:'line',attrs:{x1:0,y1:5,x2:5,y2:0},styles:{stroke:'red','stroke-width':3},description:'has exit handler'},{node:'line',attrs:{x1:0,y1:5,x2:5,y2:0},styles:{stroke:'green','stroke-width':3},description:'has enter handler'}];__cov_6cjZSModgixRhm1ElBUDBg.s['5']++;var mapObject=function mapObject(object,callback){__cov_6cjZSModgixRhm1ElBUDBg.f['1']++;__cov_6cjZSModgixRhm1ElBUDBg.s['6']++;var arr=[];__cov_6cjZSModgixRhm1ElBUDBg.s['7']++;for(var k in object){__cov_6cjZSModgixRhm1ElBUDBg.s['8']++;arr.push(callback(object[k],k));}__cov_6cjZSModgixRhm1ElBUDBg.s['9']++;return arr;};__cov_6cjZSModgixRhm1ElBUDBg.s['10']++;var legends=legendWrapper.selectAll('g.legend').data(LEGEND_DATA).enter().append('g').attr('transform',function(k,i){__cov_6cjZSModgixRhm1ElBUDBg.f['2']++;__cov_6cjZSModgixRhm1ElBUDBg.s['11']++;return'translate(-70, '+(i*20+20)+')';}).attr('width','20').attr('height','20');__cov_6cjZSModgixRhm1ElBUDBg.s['12']++;legends.append(function(d){__cov_6cjZSModgixRhm1ElBUDBg.f['3']++;__cov_6cjZSModgixRhm1ElBUDBg.s['13']++;return document.createElementNS(d3.ns.prefix.svg,d.node);}).each(function(d){__cov_6cjZSModgixRhm1ElBUDBg.f['4']++;__cov_6cjZSModgixRhm1ElBUDBg.s['14']++;var styles=d.styles;__cov_6cjZSModgixRhm1ElBUDBg.s['15']++;var attrs=d.attrs;__cov_6cjZSModgixRhm1ElBUDBg.s['16']++;var text=d.text;__cov_6cjZSModgixRhm1ElBUDBg.s['17']++;var node=d3.select(this).attr(attrs).node();__cov_6cjZSModgixRhm1ElBUDBg.s['18']++;node.setAttribute('style',mapObject(styles,function(v,k){__cov_6cjZSModgixRhm1ElBUDBg.f['5']++;__cov_6cjZSModgixRhm1ElBUDBg.s['19']++;return k+': '+v+';';}).join(' '));__cov_6cjZSModgixRhm1ElBUDBg.s['20']++;if(d.text){__cov_6cjZSModgixRhm1ElBUDBg.b['1'][0]++;__cov_6cjZSModgixRhm1ElBUDBg.s['21']++;node.innerHTML=text;}else{__cov_6cjZSModgixRhm1ElBUDBg.b['1'][1]++;}});__cov_6cjZSModgixRhm1ElBUDBg.s['22']++;legends.append('text').attr('x',20).attr('y','5').text(function(d){__cov_6cjZSModgixRhm1ElBUDBg.f['6']++;__cov_6cjZSModgixRhm1ElBUDBg.s['23']++;return d.description;}).style('cursor','pointer');function toggleLegend(){__cov_6cjZSModgixRhm1ElBUDBg.f['7']++;__cov_6cjZSModgixRhm1ElBUDBg.s['25']++;this.showLegend=this.showLegend===undefined?(__cov_6cjZSModgixRhm1ElBUDBg.b['2'][0]++,false):(__cov_6cjZSModgixRhm1ElBUDBg.b['2'][1]++,!this.showLegend);__cov_6cjZSModgixRhm1ElBUDBg.s['26']++;background.transition().duration(500).attr('height',this.showLegend?(__cov_6cjZSModgixRhm1ElBUDBg.b['3'][0]++,'300'):(__cov_6cjZSModgixRhm1ElBUDBg.b['3'][1]++,'60'));__cov_6cjZSModgixRhm1ElBUDBg.s['27']++;legends.transition().duration(300).style('stroke-opacity',this.showLegend?(__cov_6cjZSModgixRhm1ElBUDBg.b['4'][0]++,'1'):(__cov_6cjZSModgixRhm1ElBUDBg.b['4'][1]++,'0')).style('fill-opacity',this.showLegend?(__cov_6cjZSModgixRhm1ElBUDBg.b['5'][0]++,'1'):(__cov_6cjZSModgixRhm1ElBUDBg.b['5'][1]++,'0'));}__cov_6cjZSModgixRhm1ElBUDBg.s['28']++;var legendGNode=legendWrapper.node();__cov_6cjZSModgixRhm1ElBUDBg.s['29']++;legendGNode.addEventListener('click',toggleLegend);__cov_6cjZSModgixRhm1ElBUDBg.s['30']++;

var __cov_XfFGrAubgNn0ywNNYnRLyA = (Function('return this'))();
if (!__cov_XfFGrAubgNn0ywNNYnRLyA.__coverage__) { __cov_XfFGrAubgNn0ywNNYnRLyA.__coverage__ = {}; }
__cov_XfFGrAubgNn0ywNNYnRLyA = __cov_XfFGrAubgNn0ywNNYnRLyA.__coverage__;
if (!(__cov_XfFGrAubgNn0ywNNYnRLyA['/Users/congwen.ma/dev/statechart-graph/lib/Graph.js'])) {
   __cov_XfFGrAubgNn0ywNNYnRLyA['/Users/congwen.ma/dev/statechart-graph/lib/Graph.js'] = {"path":"/Users/congwen.ma/dev/statechart-graph/lib/Graph.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"tryUncastrate","line":9,"loc":{"start":{"line":9,"column":20},"end":{"line":9,"column":65}}},"2":{"name":"tryCastrate","line":16,"loc":{"start":{"line":16,"column":18},"end":{"line":16,"column":61}}},"3":{"name":"(anonymous_3)","line":27,"loc":{"start":{"line":27,"column":21},"end":{"line":27,"column":35}}},"4":{"name":"(anonymous_4)","line":32,"loc":{"start":{"line":32,"column":19},"end":{"line":32,"column":36}}},"5":{"name":"(anonymous_5)","line":38,"loc":{"start":{"line":38,"column":12},"end":{"line":38,"column":24}}},"6":{"name":"Graph","line":39,"loc":{"start":{"line":39,"column":2},"end":{"line":39,"column":23}}},"7":{"name":"_$adjustHeight","line":59,"loc":{"start":{"line":59,"column":11},"end":{"line":59,"column":37}}},"8":{"name":"buildTree","line":67,"loc":{"start":{"line":67,"column":11},"end":{"line":67,"column":32}}},"9":{"name":"(anonymous_9)","line":71,"loc":{"start":{"line":71,"column":17},"end":{"line":71,"column":29}}},"10":{"name":"setBusy","line":87,"loc":{"start":{"line":87,"column":11},"end":{"line":87,"column":36}}},"11":{"name":"setBusyCallback","line":93,"loc":{"start":{"line":93,"column":11},"end":{"line":93,"column":38}}},"12":{"name":"reinitiateRoot","line":99,"loc":{"start":{"line":99,"column":11},"end":{"line":99,"column":37}}},"13":{"name":"castrateState","line":116,"loc":{"start":{"line":116,"column":11},"end":{"line":116,"column":36}}},"14":{"name":"branchoffRoot","line":134,"loc":{"start":{"line":134,"column":11},"end":{"line":134,"column":40}}},"15":{"name":"toggleEvents","line":140,"loc":{"start":{"line":140,"column":11},"end":{"line":140,"column":35}}},"16":{"name":"(anonymous_16)","line":144,"loc":{"start":{"line":144,"column":60},"end":{"line":144,"column":73}}},"17":{"name":"toggleEnterExitHandlers","line":150,"loc":{"start":{"line":150,"column":11},"end":{"line":150,"column":46}}},"18":{"name":"(anonymous_18)","line":154,"loc":{"start":{"line":154,"column":67},"end":{"line":154,"column":80}}},"19":{"name":"exportPath","line":163,"loc":{"start":{"line":163,"column":11},"end":{"line":163,"column":37}}},"20":{"name":"exportPathCallback","line":168,"loc":{"start":{"line":168,"column":11},"end":{"line":168,"column":41}}}},"statementMap":{"1":{"start":{"line":9,"column":0},"end":{"line":14,"column":2}},"2":{"start":{"line":10,"column":2},"end":{"line":13,"column":3}},"3":{"start":{"line":11,"column":4},"end":{"line":11,"column":39}},"4":{"start":{"line":12,"column":4},"end":{"line":12,"column":29}},"5":{"start":{"line":16,"column":0},"end":{"line":36,"column":2}},"6":{"start":{"line":17,"column":2},"end":{"line":17,"column":30}},"7":{"start":{"line":18,"column":2},"end":{"line":18,"column":24}},"8":{"start":{"line":20,"column":2},"end":{"line":30,"column":3}},"9":{"start":{"line":21,"column":4},"end":{"line":21,"column":20}},"10":{"start":{"line":22,"column":9},"end":{"line":30,"column":3}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":39}},"12":{"start":{"line":24,"column":4},"end":{"line":24,"column":22}},"13":{"start":{"line":25,"column":4},"end":{"line":25,"column":15}},"14":{"start":{"line":26,"column":9},"end":{"line":30,"column":3}},"15":{"start":{"line":27,"column":4},"end":{"line":29,"column":7}},"16":{"start":{"line":28,"column":6},"end":{"line":28,"column":48}},"17":{"start":{"line":32,"column":2},"end":{"line":34,"column":5}},"18":{"start":{"line":33,"column":4},"end":{"line":33,"column":47}},"19":{"start":{"line":35,"column":2},"end":{"line":35,"column":13}},"20":{"start":{"line":38,"column":0},"end":{"line":172,"column":4}},"21":{"start":{"line":39,"column":2},"end":{"line":52,"column":3}},"22":{"start":{"line":40,"column":4},"end":{"line":40,"column":33}},"23":{"start":{"line":41,"column":4},"end":{"line":41,"column":28}},"24":{"start":{"line":42,"column":4},"end":{"line":42,"column":53}},"25":{"start":{"line":43,"column":4},"end":{"line":43,"column":45}},"26":{"start":{"line":45,"column":4},"end":{"line":45,"column":24}},"27":{"start":{"line":46,"column":4},"end":{"line":46,"column":19}},"28":{"start":{"line":48,"column":4},"end":{"line":48,"column":46}},"29":{"start":{"line":49,"column":4},"end":{"line":49,"column":26}},"30":{"start":{"line":50,"column":4},"end":{"line":50,"column":68}},"31":{"start":{"line":51,"column":4},"end":{"line":51,"column":93}},"32":{"start":{"line":57,"column":2},"end":{"line":170,"column":6}},"33":{"start":{"line":60,"column":6},"end":{"line":60,"column":68}},"34":{"start":{"line":68,"column":6},"end":{"line":68,"column":23}},"35":{"start":{"line":70,"column":6},"end":{"line":70,"column":25}},"36":{"start":{"line":71,"column":6},"end":{"line":83,"column":12}},"37":{"start":{"line":72,"column":8},"end":{"line":72,"column":22}},"38":{"start":{"line":75,"column":8},"end":{"line":78,"column":12}},"39":{"start":{"line":79,"column":8},"end":{"line":79,"column":30}},"40":{"start":{"line":80,"column":8},"end":{"line":80,"column":34}},"41":{"start":{"line":81,"column":8},"end":{"line":81,"column":39}},"42":{"start":{"line":82,"column":8},"end":{"line":82,"column":29}},"43":{"start":{"line":88,"column":6},"end":{"line":88,"column":64}},"44":{"start":{"line":89,"column":6},"end":{"line":89,"column":35}},"45":{"start":{"line":100,"column":6},"end":{"line":100,"column":47}},"46":{"start":{"line":101,"column":6},"end":{"line":101,"column":23}},"47":{"start":{"line":117,"column":6},"end":{"line":117,"column":39}},"48":{"start":{"line":118,"column":6},"end":{"line":118,"column":53}},"49":{"start":{"line":120,"column":6},"end":{"line":120,"column":41}},"50":{"start":{"line":121,"column":6},"end":{"line":123,"column":7}},"51":{"start":{"line":122,"column":8},"end":{"line":122,"column":44}},"52":{"start":{"line":126,"column":6},"end":{"line":126,"column":66}},"53":{"start":{"line":127,"column":6},"end":{"line":127,"column":31}},"54":{"start":{"line":135,"column":6},"end":{"line":135,"column":36}},"55":{"start":{"line":136,"column":6},"end":{"line":136,"column":23}},"56":{"start":{"line":141,"column":6},"end":{"line":141,"column":24}},"57":{"start":{"line":143,"column":6},"end":{"line":143,"column":49}},"58":{"start":{"line":144,"column":6},"end":{"line":146,"column":9}},"59":{"start":{"line":145,"column":8},"end":{"line":145,"column":67}},"60":{"start":{"line":151,"column":6},"end":{"line":151,"column":24}},"61":{"start":{"line":153,"column":6},"end":{"line":153,"column":71}},"62":{"start":{"line":154,"column":6},"end":{"line":156,"column":9}},"63":{"start":{"line":155,"column":8},"end":{"line":155,"column":78}},"64":{"start":{"line":164,"column":6},"end":{"line":164,"column":36}},"65":{"start":{"line":171,"column":2},"end":{"line":171,"column":15}},"66":{"start":{"line":174,"column":0},"end":{"line":174,"column":37}},"67":{"start":{"line":177,"column":0},"end":{"line":177,"column":21}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]},"2":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":6},"end":{"line":10,"column":32}},{"start":{"line":10,"column":36},"end":{"line":10,"column":74}}]},"3":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":38},"end":{"line":10,"column":50}},{"start":{"line":10,"column":54},"end":{"line":10,"column":73}}]},"4":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":20,"column":2}},{"start":{"line":20,"column":2},"end":{"line":20,"column":2}}]},"5":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":9},"end":{"line":22,"column":9}},{"start":{"line":22,"column":9},"end":{"line":22,"column":9}}]},"6":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":9},"end":{"line":26,"column":9}},{"start":{"line":26,"column":9},"end":{"line":26,"column":9}}]},"7":{"line":42,"type":"cond-expr","locations":[{"start":{"line":42,"column":39},"end":{"line":42,"column":41}},{"start":{"line":42,"column":44},"end":{"line":42,"column":52}}]},"8":{"line":88,"type":"cond-expr","locations":[{"start":{"line":88,"column":47},"end":{"line":88,"column":53}},{"start":{"line":88,"column":56},"end":{"line":88,"column":63}}]},"9":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":6},"end":{"line":121,"column":6}},{"start":{"line":121,"column":6},"end":{"line":121,"column":6}}]},"10":{"line":121,"type":"binary-expr","locations":[{"start":{"line":121,"column":10},"end":{"line":121,"column":32}},{"start":{"line":121,"column":36},"end":{"line":121,"column":55}}]},"11":{"line":145,"type":"cond-expr","locations":[{"start":{"line":145,"column":50},"end":{"line":145,"column":57}},{"start":{"line":145,"column":60},"end":{"line":145,"column":66}}]},"12":{"line":155,"type":"cond-expr","locations":[{"start":{"line":155,"column":61},"end":{"line":155,"column":68}},{"start":{"line":155,"column":71},"end":{"line":155,"column":77}}]}}};
}
__cov_XfFGrAubgNn0ywNNYnRLyA = __cov_XfFGrAubgNn0ywNNYnRLyA['/Users/congwen.ma/dev/statechart-graph/lib/Graph.js'];
__cov_XfFGrAubgNn0ywNNYnRLyA.s['1']++;var tryUncastrate=function tryUncastrate(obj,castrationLevel){__cov_XfFGrAubgNn0ywNNYnRLyA.f['1']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['2']++;if((__cov_XfFGrAubgNn0ywNNYnRLyA.b['2'][0]++,obj.limboedChildren.length)&&(__cov_XfFGrAubgNn0ywNNYnRLyA.b['2'][1]++,!((__cov_XfFGrAubgNn0ywNNYnRLyA.b['3'][0]++,obj.children)&&(__cov_XfFGrAubgNn0ywNNYnRLyA.b['3'][1]++,obj.children.length)))){__cov_XfFGrAubgNn0ywNNYnRLyA.b['1'][0]++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['3']++;obj.children=obj.limboedChildren;__cov_XfFGrAubgNn0ywNNYnRLyA.s['4']++;obj.limboedChildren=[];}else{__cov_XfFGrAubgNn0ywNNYnRLyA.b['1'][1]++;}};__cov_XfFGrAubgNn0ywNNYnRLyA.s['5']++;var tryCastrate=function tryCastrate(obj,castrationLevel){__cov_XfFGrAubgNn0ywNNYnRLyA.f['2']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['6']++;var children=obj.children;__cov_XfFGrAubgNn0ywNNYnRLyA.s['7']++;var level=obj.level;__cov_XfFGrAubgNn0ywNNYnRLyA.s['8']++;if(!children){__cov_XfFGrAubgNn0ywNNYnRLyA.b['4'][0]++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['9']++;return children;}else{__cov_XfFGrAubgNn0ywNNYnRLyA.b['4'][1]++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['10']++;if(level>=castrationLevel){__cov_XfFGrAubgNn0ywNNYnRLyA.b['5'][0]++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['11']++;obj.limboedChildren=obj.children;__cov_XfFGrAubgNn0ywNNYnRLyA.s['12']++;obj.children=[];__cov_XfFGrAubgNn0ywNNYnRLyA.s['13']++;return obj;}else{__cov_XfFGrAubgNn0ywNNYnRLyA.b['5'][1]++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['14']++;if(level<castrationLevel){__cov_XfFGrAubgNn0ywNNYnRLyA.b['6'][0]++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['15']++;obj.children.map(function(lc){__cov_XfFGrAubgNn0ywNNYnRLyA.f['3']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['16']++;return tryUncastrate(lc,castrationLevel);});}else{__cov_XfFGrAubgNn0ywNNYnRLyA.b['6'][1]++;}}}__cov_XfFGrAubgNn0ywNNYnRLyA.s['17']++;obj.children.map(function(child){__cov_XfFGrAubgNn0ywNNYnRLyA.f['4']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['18']++;return tryCastrate(child,castrationLevel);});__cov_XfFGrAubgNn0ywNNYnRLyA.s['19']++;return obj;};__cov_XfFGrAubgNn0ywNNYnRLyA.s['20']++;var Graph=function(){__cov_XfFGrAubgNn0ywNNYnRLyA.f['5']++;function Graph(_ref){__cov_XfFGrAubgNn0ywNNYnRLyA.f['6']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['22']++;var metadata=_ref.metadata;__cov_XfFGrAubgNn0ywNNYnRLyA.s['23']++;var _ref$cfg=_ref.cfg;__cov_XfFGrAubgNn0ywNNYnRLyA.s['24']++;var cfg=_ref$cfg===undefined?(__cov_XfFGrAubgNn0ywNNYnRLyA.b['7'][0]++,{}):(__cov_XfFGrAubgNn0ywNNYnRLyA.b['7'][1]++,_ref$cfg);__cov_XfFGrAubgNn0ywNNYnRLyA.s['25']++;classCallCheck(this,Graph);__cov_XfFGrAubgNn0ywNNYnRLyA.s['26']++;window.graph=this;__cov_XfFGrAubgNn0ywNNYnRLyA.s['27']++;this.svg=svg;__cov_XfFGrAubgNn0ywNNYnRLyA.s['28']++;this.cfg=Object.assign({},MONITOR_CONFIG,cfg);__cov_XfFGrAubgNn0ywNNYnRLyA.s['29']++;this.isPending=true;__cov_XfFGrAubgNn0ywNNYnRLyA.s['30']++;this.root=this.metadata=Graph.metadataStore.root=metadata;__cov_XfFGrAubgNn0ywNNYnRLyA.s['31']++;this.treeLayout=d3.layout.tree().size([this.cfg.contentHeight,this.cfg.contentWidth]);}__cov_XfFGrAubgNn0ywNNYnRLyA.s['32']++;createClass(Graph,[{key:'_$adjustHeight',value:function _$adjustHeight(){__cov_XfFGrAubgNn0ywNNYnRLyA.f['7']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['33']++;d3.select(self.frameElement).style('height',this.cfg.height);}},{key:'buildTree',value:function buildTree(){__cov_XfFGrAubgNn0ywNNYnRLyA.f['8']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['34']++;var _this=this;__cov_XfFGrAubgNn0ywNNYnRLyA.s['35']++;this.setBusy(true);__cov_XfFGrAubgNn0ywNNYnRLyA.s['36']++;setTimeout(function(){__cov_XfFGrAubgNn0ywNNYnRLyA.f['9']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['37']++;svg.cleanup();__cov_XfFGrAubgNn0ywNNYnRLyA.s['38']++;_this.stateNodes=new StateNode(Object.assign({cfg:_this.cfg,svg:_this.svg,graph:_this,metadata:_this.metadata}));__cov_XfFGrAubgNn0ywNNYnRLyA.s['39']++;_this.castrateState();__cov_XfFGrAubgNn0ywNNYnRLyA.s['40']++;_this.stateNodes.render();__cov_XfFGrAubgNn0ywNNYnRLyA.s['41']++;_this.stateNodes.tryCollapse();__cov_XfFGrAubgNn0ywNNYnRLyA.s['42']++;_this.setBusy(false);},0);}},{key:'setBusy',value:function setBusy(isBusy){__cov_XfFGrAubgNn0ywNNYnRLyA.f['10']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['43']++;this.svg.node().style.display=isBusy?(__cov_XfFGrAubgNn0ywNNYnRLyA.b['8'][0]++,'none'):(__cov_XfFGrAubgNn0ywNNYnRLyA.b['8'][1]++,'block');__cov_XfFGrAubgNn0ywNNYnRLyA.s['44']++;this.setBusyCallback(isBusy);}},{key:'setBusyCallback',value:function setBusyCallback(){__cov_XfFGrAubgNn0ywNNYnRLyA.f['11']++;}},{key:'reinitiateRoot',value:function reinitiateRoot(){__cov_XfFGrAubgNn0ywNNYnRLyA.f['12']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['45']++;this.metadata=Graph.metadataStore.root;__cov_XfFGrAubgNn0ywNNYnRLyA.s['46']++;this.buildTree();}},{key:'castrateState',value:function castrateState(){__cov_XfFGrAubgNn0ywNNYnRLyA.f['13']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['47']++;var stateNodes=this.stateNodes;__cov_XfFGrAubgNn0ywNNYnRLyA.s['48']++;var castrationLevel=this.cfg.castrationLevel;__cov_XfFGrAubgNn0ywNNYnRLyA.s['49']++;castrationLevel=+castrationLevel;__cov_XfFGrAubgNn0ywNNYnRLyA.s['50']++;if((__cov_XfFGrAubgNn0ywNNYnRLyA.b['10'][0]++,isNaN(castrationLevel))||(__cov_XfFGrAubgNn0ywNNYnRLyA.b['10'][1]++,castrationLevel<1)){__cov_XfFGrAubgNn0ywNNYnRLyA.b['9'][0]++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['51']++;return this.stateNodes=stateNodes;}else{__cov_XfFGrAubgNn0ywNNYnRLyA.b['9'][1]++;}__cov_XfFGrAubgNn0ywNNYnRLyA.s['52']++;tryCastrate(stateNodes,stateNodes.level+castrationLevel);__cov_XfFGrAubgNn0ywNNYnRLyA.s['53']++;this.stateNodes.render();}},{key:'branchoffRoot',value:function branchoffRoot(node){__cov_XfFGrAubgNn0ywNNYnRLyA.f['14']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['54']++;this.metadata=node.metadata;__cov_XfFGrAubgNn0ywNNYnRLyA.s['55']++;this.buildTree();}},{key:'toggleEvents',value:function toggleEvents(){__cov_XfFGrAubgNn0ywNNYnRLyA.f['15']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['56']++;var _this2=this;__cov_XfFGrAubgNn0ywNNYnRLyA.s['57']++;this.cfg.showEvents=!this.cfg.showEvents;__cov_XfFGrAubgNn0ywNNYnRLyA.s['58']++;this.svg.selectAll('.node text.eventName')[0].forEach(function(n){__cov_XfFGrAubgNn0ywNNYnRLyA.f['16']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['59']++;n.style.display=_this2.cfg.showEvents?(__cov_XfFGrAubgNn0ywNNYnRLyA.b['11'][0]++,'block'):(__cov_XfFGrAubgNn0ywNNYnRLyA.b['11'][1]++,'none');});}},{key:'toggleEnterExitHandlers',value:function toggleEnterExitHandlers(){__cov_XfFGrAubgNn0ywNNYnRLyA.f['17']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['60']++;var _this3=this;__cov_XfFGrAubgNn0ywNNYnRLyA.s['61']++;this.cfg.showEnterExitHandlers=!this.cfg.showEnterExitHandlers;__cov_XfFGrAubgNn0ywNNYnRLyA.s['62']++;this.svg.selectAll('.enterHandler, .exitHandler')[0].forEach(function(n){__cov_XfFGrAubgNn0ywNNYnRLyA.f['18']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['63']++;n.style.display=_this3.cfg.showEnterExitHandlers?(__cov_XfFGrAubgNn0ywNNYnRLyA.b['12'][0]++,'block'):(__cov_XfFGrAubgNn0ywNNYnRLyA.b['12'][1]++,'none');});}},{key:'exportPath',value:function exportPath(path){__cov_XfFGrAubgNn0ywNNYnRLyA.f['19']++;__cov_XfFGrAubgNn0ywNNYnRLyA.s['64']++;this.exportPathCallback(path);}},{key:'exportPathCallback',value:function exportPathCallback(){__cov_XfFGrAubgNn0ywNNYnRLyA.f['20']++;}}]);__cov_XfFGrAubgNn0ywNNYnRLyA.s['65']++;return Graph;}();__cov_XfFGrAubgNn0ywNNYnRLyA.s['66']++;Graph.metadataStore={root:null};__cov_XfFGrAubgNn0ywNNYnRLyA.s['67']++;window.Graph=Graph;

var __cov_7B1N2rqJARhNo5xu8meGaQ = (Function('return this'))();
if (!__cov_7B1N2rqJARhNo5xu8meGaQ.__coverage__) { __cov_7B1N2rqJARhNo5xu8meGaQ.__coverage__ = {}; }
__cov_7B1N2rqJARhNo5xu8meGaQ = __cov_7B1N2rqJARhNo5xu8meGaQ.__coverage__;
if (!(__cov_7B1N2rqJARhNo5xu8meGaQ['/Users/congwen.ma/dev/statechart-graph/lib/index.js'])) {
   __cov_7B1N2rqJARhNo5xu8meGaQ['/Users/congwen.ma/dev/statechart-graph/lib/index.js'] = {"path":"/Users/congwen.ma/dev/statechart-graph/lib/index.js","s":{"1":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":7,"column":2}}},"branchMap":{}};
}
__cov_7B1N2rqJARhNo5xu8meGaQ = __cov_7B1N2rqJARhNo5xu8meGaQ['/Users/congwen.ma/dev/statechart-graph/lib/index.js'];
__cov_7B1N2rqJARhNo5xu8meGaQ.s['1']++;window.statechartGraph={serialize:convertState,Graph:Graph};var index = window.statechartGraph;

return index;

})));
//# sourceMappingURL=statechart-graph.js.map
